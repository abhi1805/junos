---
- name: test playbook
  hosts: '{{ edge }}'
  connection: netconf
  gather_facts: false
  roles:
  - Juniper.junos
  tasks:
  - name: Show interfaces
    junos_command:
      commands: show interfaces terse
    register: interfaces
#  - name: Print state of interfaces
#    debug:
#      var: interfaces
    tags: interfaces
 
  - name: Show routing table
    vars:
    - routes: 0
    junos_command:
      commands: show route
    register: routes

    tags: route  
  - name: Print output
    debug:
      var: 
      - routes
      - interfaces
